!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(Ve){Ve.defineMode("javascript",function(e,o){function i(e,t,r){return se=e,de=r,t}function c(e,t){if('"'==(n=e.next())||"'"==n)return t.tokenize=l(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"!=n)return"`"==n?(t.tokenize=f)(e,t):"#"==n?(e.skipToEnd(),i("error","error")):he.test(n)?(e.eatWhile(he),i("operator","operator",e.current())):be.test(n)?(e.eatWhile(be),n=e.current(),(r=xe.propertyIsEnumerable(n)&&xe[n])&&"."!=t.lastType?i(r.type,r.style,n):i("variable","variable",n)):void 0;if(e.eat("*"))return(t.tokenize=u)(e,t);if(e.eat("/"))return e.skipToEnd(),i("comment","comment");if("operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)){e:for(var r,n=!1,a=!1;null!=(r=e.next());){if(!n){if("/"==r&&!a)break e;"["==r?a=!0:a&&"]"==r&&(a=!1)}n=!n&&"\\"==r}return e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),i("regexp","string-2")}return e.eatWhile(he),i("operator","operator",e.current())}function l(a){return function(e,t){var r,n=!1;if(ve&&"@"==e.peek()&&e.match(ge))return t.tokenize=c,i("jsonld-keyword","meta");for(;null!=(r=e.next())&&(r!=a||n);)n=!n&&"\\"==r;return n||(t.tokenize=c),i("string","string")}}function u(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=c;break}n="*"==r}return i("comment","comment")}function f(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=c;break}n=!n&&"\\"==r}return i("quasi","string-2",e.current())}function s(e,t){if(t.fatArrowAt&&(t.fatArrowAt=null),!((a=e.string.indexOf("=>",e.start))<0)){for(var r=0,n=!1,a=a-1;0<=a;--a){var i=e.string.charAt(a),o="([{}])".indexOf(i);if(0<=o&&o<3){if(!r){++a;break}if(0==--r)break}else if(3<=o&&o<6)++r;else if(be.test(i))n=!0;else{if(/["'\/]/.test(i))return;if(n&&!r){++a;break}}}n&&!r&&(t.fatArrowAt=a)}}function d(e,t,r,n,a,i){this.indented=e,this.column=t,this.type=r,this.prev=a,this.info=i,null!=n&&(this.align=n)}function p(){for(var e=arguments.length-1;0<=e;e--)je.cc.push(arguments[e])}function m(){return p.apply(null,arguments),!0}function r(t){function e(e){for(;e;e=e.next)if(e.name==t)return!0;return!1}var r=je.state;r.context?(je.marked="def",e(r.localVars)||(r.localVars={name:t,next:r.localVars})):!e(r.globalVars)&&o.globalVars&&(r.globalVars={name:t,next:r.globalVars})}function v(){je.state.context={prev:je.state.context,vars:je.state.localVars},je.state.localVars=Me}function y(){je.state.localVars=je.state.context.vars,je.state.context=je.state.context.prev}function k(n,a){var e=function(){var e=je.state,t=e.indented;if("stat"==e.lexical.type)t=e.lexical.indented;else for(var r=e.lexical;r&&")"==r.type&&r.align;r=r.prev)t=r.indented;e.lexical=new d(t,je.stream.column(),n,null,e.lexical,a)};return e.lex=!0,e}function b(){var e=je.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function x(t){function r(e){return e==t?m():";"==t?p():m(r)}return r}function h(e,t){return"var"==e?m(k("vardef",t.length),B,x(";"),b):"keyword a"==e?m(k("form"),g,h,b):"keyword b"==e?m(k("form"),h,b):"{"==e?m(k("}"),S,b):";"==e?m():"if"==e?("else"==je.state.lexical.info&&je.state.cc[je.state.cc.length-1]==b&&je.state.cc.pop()(),m(k("form"),g,h,b,G)):"function"==e?m(X):"for"==e?m(k("form"),J,h,b):"variable"==e?m(k("stat"),T):"switch"==e?m(k("form"),g,k("}","switch"),x("{"),S,b,b):"case"==e?m(g,x(":")):"default"==e?m(x(":")):"catch"==e?m(k("form"),v,x("("),Y,x(")"),h,b,y):"module"==e?m(k("form"),v,re,y,b):"class"==e?m(k("form"),Z,b):"export"==e?m(k("form"),ne,b):"import"==e?m(k("form"),ae,b):p(k("stat"),g,x(";"),b)}function g(e){return t(e,!1)}function w(e){return t(e,!0)}function t(e,t){if(je.state.fatArrowAt==je.stream.start){var r=t?z:I;if("("==e)return m(v,k(")"),O(H,")"),b,x("=>"),r,y);if("variable"==e)return p(v,H,x("=>"),r,y)}return r=t?V:M,we.hasOwnProperty(e)?m(r):"function"==e?m(X,r):"keyword c"==e?m(t?n:j):"("==e?m(k(")"),j,fe,x(")"),b,r):"operator"==e||"spread"==e?m(t?w:g):"["==e?m(k("]"),le,b,r):"{"==e?P(C,"}",null,r):"quasi"==e?p(E,r):m()}function j(e){return e.match(/[;\}\)\],]/)?p():p(g)}function n(e){return e.match(/[;\}\)\],]/)?p():p(w)}function M(e,t){return","==e?m(g):V(e,t,!1)}function V(e,t,r){var n=0==r?M:V,a=0==r?g:w;if("=>"==e)return m(v,r?z:I,y);if("operator"==e)return/\+\+|--/.test(t)?m(n):"?"==t?m(g,x(":"),a):m(a);if("quasi"==e)return p(E,n);if(";"!=e){if("("==e)return P(w,")","call",n);if("."==e)return m(A,n);if("["==e)return m(k("]"),j,x("]"),b,n)}}function E(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?m(E):m(g,a)}function a(e){if("}"==e)return je.marked="string-2",je.state.tokenize=f,m(E)}function I(e){return s(je.stream,je.state),p("{"==e?h:g)}function z(e){return s(je.stream,je.state),p("{"==e?h:w)}function T(e){return":"==e?m(b,h):p(M,x(";"),b)}function A(e){if("variable"==e)return je.marked="property",m()}function C(e,t){return"variable"==e||"keyword"==je.style?(je.marked="property",m("get"==t||"set"==t?$:q)):"number"==e||"string"==e?(je.marked=ve?"property":je.style+" property",m(q)):"jsonld-keyword"==e?m(q):"["==e?m(g,x("]"),q):void 0}function $(e){return"variable"!=e?p(q):(je.marked="property",m(X))}function q(e){return":"==e?m(w):"("==e?p(X):void 0}function O(t,r){function n(e){return","==e?("call"==(e=je.state.lexical).info&&(e.pos=(e.pos||0)+1),m(t,n)):e==r?m():m(x(r))}return function(e){return e==r?m():p(t,n)}}function P(e,t,r){for(var n=3;n<arguments.length;n++)je.cc.push(arguments[n]);return m(k(t,r),O(e,t),b)}function S(e){return"}"==e?m():p(h,S)}function W(e){if(ke&&":"==e)return m(N)}function N(e){if("variable"==e)return je.marked="variable-3",m()}function B(){return p(H,W,D,F)}function H(e,t){return"variable"==e?(r(t),m()):"["==e?P(H,"]"):"{"==e?P(U,"}"):void 0}function U(e,t){return"variable"!=e||je.stream.match(/^\s*:/,!1)?("variable"==e&&(je.marked="property"),m(x(":"),H,D)):(r(t),m(D))}function D(e,t){if("="==t)return m(w)}function F(e){if(","==e)return m(B)}function G(e,t){if("keyword b"==e&&"else"==t)return m(k("form","else"),h,b)}function J(e){if("("==e)return m(k(")"),K,x(")"),b)}function K(e){return"var"==e?m(B,x(";"),Q):";"==e?m(Q):"variable"==e?m(L):p(g,x(";"),Q)}function L(e,t){return"in"==t||"of"==t?(je.marked="keyword",m(g)):m(M,Q)}function Q(e,t){return";"==e?m(R):"in"==t||"of"==t?(je.marked="keyword",m(g)):p(g,x(";"),R)}function R(e){")"!=e&&m(g)}function X(e,t){return"*"==t?(je.marked="keyword",m(X)):"variable"==e?(r(t),m(X)):"("==e?m(v,k(")"),O(Y,")"),b,h,y):void 0}function Y(e){return"spread"==e?m(Y):p(H,W)}function Z(e,t){if("variable"==e)return r(t),m(_)}function _(e,t){return"extends"==t?m(g,_):"{"==e?m(k("}"),ee,b):void 0}function ee(e,t){return"variable"==e||"keyword"==je.style?"static"==t?(je.marked="keyword",m(ee)):(je.marked="property","get"==t||"set"==t?m(te,X,ee):m(X,ee)):"*"==t?(je.marked="keyword",m(ee)):";"==e?m(ee):"}"==e?m():void 0}function te(e){return"variable"!=e?p():(je.marked="property",m())}function re(e,t){return"string"==e?m(h):"variable"==e?(r(t),m(ce)):void 0}function ne(e,t){return"*"==t?(je.marked="keyword",m(ce,x(";"))):"default"==t?(je.marked="keyword",m(g,x(";"))):p(h)}function ae(e){return"string"==e?m():p(ie,ce)}function ie(e,t){return"{"==e?P(ie,"}"):("variable"==e&&r(t),"*"==t&&(je.marked="keyword"),m(oe))}function oe(e,t){if("as"==t)return je.marked="keyword",m(ie)}function ce(e,t){if("from"==t)return je.marked="keyword",m(g)}function le(e){return"]"==e?m():p(w,ue)}function ue(e){return"for"==e?p(fe,x("]")):","==e?m(O(n,"]")):p(O(w,"]"))}function fe(e){return"for"==e?m(J,fe):"if"==e?m(g,fe):void 0}var se,de,pe=e.indentUnit,me=o.statementIndent,ve=o.jsonld,ye=o.json||ve,ke=o.typescript,be=o.wordCharacters||/[\w$\xa1-\uffff]/,xe=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),a=e("operator"),i={type:"atom",style:"atom"};t={"if":e("if"),"while":t,"with":t,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"debugger":n,"var":e("var"),"const":e("var"),"let":e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":a,"typeof":a,"instanceof":a,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":n,"export":e("export"),"import":e("import"),"extends":n};if(ke){var o;r={type:"variable",style:"variable-3"},r={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:r,number:r,bool:r,any:r};for(o in r)t[o]=r[o]}return t}(),he=/[+\-*&%=<>!?|~^]/,ge=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,we={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},je={state:null,column:null,marked:null,cc:null},Me={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){return e={tokenize:c,lastType:"sof",cc:[],lexical:new d((e||0)-pe,0,"block",!1),localVars:o.localVars,context:o.localVars&&{vars:o.localVars},indented:0},o.globalVars&&"object"==typeof o.globalVars&&(e.globalVars=o.globalVars),e},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),s(e,t)),t.tokenize!=u&&e.eatSpace())return null;var r=t.tokenize(e,t);if("comment"==se)return r;t.lastType="operator"!=se||"++"!=de&&"--"!=de?se:"incdec";e:{var n=se,a=de,i=t.cc;for(je.state=t,je.stream=e,je.marked=null,je.cc=i,je.style=r,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;)if((i.length?i.pop():ye?g:h)(n,a)){for(;i.length&&i[i.length-1].lex;)i.pop()();if(je.marked){r=je.marked;break e}if(n="variable"==n)t:{for(n=t.localVars;n;n=n.next)if(n.name==a){n=!0;break t}for(i=t.context;i;i=i.prev)for(n=i.vars;n;n=n.next)if(n.name==a){n=!0;break t}n=void 0}if(n){r="variable-2";break e}break e}}return r},indent:function(e,t){if(e.tokenize==u)return Ve.Pass;if(e.tokenize!=c)return 0;var r=t&&t.charAt(0),n=e.lexical;if(!/^\s*else\b/.test(t))for(var a=e.cc.length-1;0<=a;--a){var i=e.cc[a];if(i==b)n=n.prev;else if(i!=G)break}return"stat"==n.type&&"}"==r&&(n=n.prev),me&&")"==n.type&&"stat"==n.prev.type&&(n=n.prev),i=r==(a=n.type),"vardef"==a?n.indented+("operator"==e.lastType||","==e.lastType?n.info+1:0):"form"==a&&"{"==r?n.indented:"form"==a?n.indented+pe:"stat"==a?(r=n.indented)+((n="operator"==e.lastType||","==e.lastType||he.test(t.charAt(0))||/[,.]/.test(t.charAt(0)))?me||pe:0):"switch"!=n.info||i||0==o.doubleIndentSwitch?n.align?n.column+(i?0:1):n.indented+(i?0:pe):n.indented+(/^(?:case|default)\b/.test(t)?pe:2*pe)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:ye?null:"/*",blockCommentEnd:ye?null:"*/",lineComment:ye?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:ye?"json":"javascript",jsonldMode:ve,jsonMode:ye}}),Ve.registerHelper("wordChars","javascript",/[\w$]/),Ve.defineMIME("text/javascript","javascript"),Ve.defineMIME("text/ecmascript","javascript"),Ve.defineMIME("application/javascript","javascript"),Ve.defineMIME("application/x-javascript","javascript"),Ve.defineMIME("application/ecmascript","javascript"),Ve.defineMIME("application/json",{name:"javascript",json:!0}),Ve.defineMIME("application/x-json",{name:"javascript",json:!0}),Ve.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),Ve.defineMIME("text/typescript",{name:"javascript",typescript:!0}),Ve.defineMIME("application/typescript",{name:"javascript",typescript:!0})});