var SF=function(){function i(t){return(t=t.attributes?t.attributes.getNamedItem("class"):null)?t.value.split(" "):[]}function r(t){var e=document.createAttribute("class");return e.value=t.join(" "),e}var n,o,s={attachListener:function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else{if(!t.attachEvent)throw Error("Could not attach event.");t.attachEvent("on"+e,function(){n.apply(t,arguments)})}}};return s.indexOf="function"===(n=Array.prototype.indexOf)?function(t,e){return n.call(t,e)}:function(t,e){for(var n=t.length,o=0;o<n;o++)if(t[o]===e)return o;return-1},s.accept=function(t,e){var n;t.children?(n=t.children,e(t)):"number"==typeof t.length&&(n=t);for(var o=n&&n.length||0;o--;)s.accept(n[o],e)},s.getByClass="function"==typeof(o=document.getElementsByClassName)?function(t,e){return"string"==typeof t&&(e=t,t=document),o.call(t,e)}:function(t,e){"string"==typeof t&&(e=t,t=document.getElementsByTagName("html")[0]);var n=[];return s.accept(t,function(t){s.classList.contains(t,e)&&n.push(t)}),n},s.classList={},s.classList.add=function(t,e){var n=i(t);n.push(e),t.attributes.setNamedItem(r(n))},s.classList.remove=function(t,e){var n=i(t,e),o=s.indexOf(n,e);-1!==o&&(n.splice(o,1),t.attributes.setNamedItem(r(n)))},s.classList.contains=function(t,e){return-1!==s.indexOf(i(t),e)},s.classList.toggle=function(t,e){this.contains(t,e)?this.remove(t,e):this.add(t,e)},s}();!function(){function r(t){for(var e in t)delete t[e]}SF.modal=function(t){function e(t){27==t.keyCode&&i.close()}t.modalClass="modal content",t.closeClass="modal-close",t.modalStyles=r,t.closeStyles=r;var n=t.afterCreate,o=t.afterClose;t.afterCreate=function(t){n&&n(t),window.addEventListener("keydown",e)},t.afterClose=function(t){o&&o(t),window.removeEventListener("keydown",e)};var i=new picoModal(t).afterCreate(t.afterCreate).afterClose(t.afterClose);return i}}(),function(){for(var t=SF.getByClass("toggler"),e=t.length;e--;)SF.attachListener(t[e],"click",function(){var t=SF.classList.contains(this,"icon-toggler-expanded")||SF.classList.contains(this,"icon-toggler-collapsed"),e=document.getElementById(this.getAttribute("data-for"));SF.classList.toggle(this,"collapsed"),SF.classList.contains(this,"collapsed")?(SF.classList.add(e,"collapsed"),t&&(SF.classList.remove(this,"icon-toggler-expanded"),SF.classList.add(this,"icon-toggler-collapsed"))):(SF.classList.remove(e,"collapsed"),t&&(SF.classList.remove(this,"icon-toggler-collapsed"),SF.classList.add(this,"icon-toggler-expanded")))})}(),function(){for(var t=SF.getByClass("tree-a"),e=t.length;e--;)SF.attachListener(t[e],"click",function(t){"H2"!==(t=t.target||t.srcElement).nodeName||SF.classList.contains(t,"tree-a-no-sub")||SF.classList.toggle(t,"tree-a-active")})}(),function(y,n){function g(t){return"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType}function v(){var i=[];return{watch:i.push.bind(i),trigger:function(t){for(var e=!0,n={preventDefault:function(){e=!1}},o=0;o<i.length;o++)i[o](t,n);return e}}}function o(t){this.elem=t}function C(t,e){return o.div().clazz("pico-overlay").clazz(t("overlayClass","")).stylize({display:"block",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(t("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){t("overlayClose",!0)&&e()})}function b(t,e){var n=t("width","auto");return"number"==typeof n&&(n+="px"),o.div().clazz("pico-content").clazz(t("modalClass","")).stylize({display:"block",position:"fixed",zIndex:10001,left:"50%",top:"50px",width:n,"-ms-transform":"translateX(-50%)","-moz-transform":"translateX(-50%)","-webkit-transform":"translateX(-50%)","-o-transform":"translateX(-50%)",transform:"translateX(-50%)"}).stylize(t("modalStyles",{backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(t("content")).attr("role","dialog").onClick(function(t){new o(t.target).anyAncestor(function(t){return/\bpico-close\b/.test(t.elem.className)})&&e()})}function w(t){return function(){return t().elem}}function t(o){function i(t,e){var n=o[t];return"function"==typeof n&&(n=n(e)),void 0===n?e:n}function t(){h().hide(),f().hide(),d.trigger(m)}function r(){u.trigger(m)&&t()}function e(t){return function(){return t.apply(this,arguments),m}}function n(t){if(!s){var e,n=b(i,r),o=C(i,r);e=i("closeButton",!0)?n.child().html(i("closeHtml","&#xD7;")).clazz("pico-close").clazz(i("closeClass")).stylize(i("closeStyles",{borderRadius:"2px",cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})):void 0,s={modal:n,overlay:o,close:e},a.trigger(m)}return s[t]}("string"==typeof o||g(o))&&(o={content:o});var s,a=v(),l=v(),c=v(),u=v(),d=v(),f=n.bind(y,"modal"),h=n.bind(y,"overlay"),p=n.bind(y,"close"),m={modalElem:w(f),closeElem:w(p),overlayElem:w(h),show:function(){return l.trigger(m)&&(h().show(),p(),f().show(),c.trigger(m)),this},close:e(r),forceClose:e(t),destroy:function(){f=f().destroy(),h=h().destroy(),p=void 0},options:function(t){o=t},afterCreate:e(a.watch),beforeShow:e(l.watch),afterShow:e(c.watch),beforeClose:e(u.watch),afterClose:e(d.watch)};return m}o.div=function(t){var e=n.createElement("div");return(t||n.body).appendChild(e),new o(e)},o.prototype={child:function(){return o.div(this.elem)},stylize:function(t){for(var e in"undefined"!=typeof(t=t||{}).opacity&&(t.filter="alpha(opacity="+100*t.opacity+")"),t)t.hasOwnProperty(e)&&(this.elem.style[e]=t[e]);return this},clazz:function(t){return this.elem.className+=" "+t,this},html:function(t){return g(t)?this.elem.appendChild(t):this.elem.innerHTML=t,this},onClick:function(t){return this.elem.addEventListener("click",t),this},destroy:function(){n.body.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(t,e){return this.elem.setAttribute(t,e),this},anyAncestor:function(t){for(var e=this.elem;e;){if(t(new o(e)))return!0;e=e.parentNode}return!1}},"function"==typeof y.define&&y.define.amd?y.define(function(){return t}):y.picoModal=t}(window,document);